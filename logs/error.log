{"level":"error","message":"Controller error","timestamp":"2025-03-30 17:09:54","trackingId":"ebc08973-a06b-46c6-8593-98352c15f58d","error":"Validation failed: origin: Origin must be a positive integer","service":"ferry-api"}
{"level":"error","message":"Error: Unexpected token 'a', ...\"ination\": abc,\r\n    \"... is not valid JSON","timestamp":"2025-03-30 17:10:22","trackingId":"3daf7d02-ee7c-45a4-840e-8a664cc4b3c3","method":"POST","path":"/api/ferry/search","error":{"name":"SyntaxError","stack":"SyntaxError: Unexpected token 'a', ...\"ination\": abc,\r\n    \"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (D:\\ferry-api\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\ferry-api\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\ferry-api\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\ferry-api\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\ferry-api\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)"},"service":"ferry-api"}
{"level":"error","message":"Controller error","timestamp":"2025-03-30 17:10:37","trackingId":"ed623085-c65f-4559-bdf7-b8815f41451e","error":"Validation failed: destination: Expected number, received string","service":"ferry-api"}
{"level":"error","message":"Controller error","timestamp":"2025-03-30 21:06:13","trackingId":"ac329880-e9d2-4b08-903c-b2718aca49c6","error":"Invalid passenger info at index 0: Missing required field 'discountType'","service":"ferry-api"}
{"level":"error","message":"Ticket search failed","timestamp":"2025-03-31 16:41:29","trackingId":"19e1b025-4562-471a-b7b2-0761eaad4d53","error":"Request failed with status code 404","service":"ferry-api"}
{"level":"error","message":"Failed to get latest ticket","timestamp":"2025-03-31 16:41:29","trackingId":"19e1b025-4562-471a-b7b2-0761eaad4d53","error":"Request failed with status code 404","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-03-31 16:41:29","trackingId":"19e1b025-4562-471a-b7b2-0761eaad4d53","error":"Request failed with status code 404","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-03-31 16:52:58","trackingId":"612892a2-83e1-4f81-922f-6aaab77a4422","error":"No cached compute charges found. Please compute charges first.","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"Ticket search failed","timestamp":"2025-03-31 16:53:19","trackingId":"4091b62a-5b23-4ca6-81d4-637dc1c4d46a","error":"Invalid response format from Barkota API. Expected data array.","service":"ferry-api"}
{"level":"error","message":"Failed to get latest ticket","timestamp":"2025-03-31 16:53:19","trackingId":"4091b62a-5b23-4ca6-81d4-637dc1c4d46a","error":"Invalid response format from Barkota API. Expected data array.","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-03-31 16:53:19","trackingId":"4091b62a-5b23-4ca6-81d4-637dc1c4d46a","error":"Invalid response format from Barkota API. Expected data array.","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:54:01","trackingId":"5e8d8fee-e841-4914-8138-b1507a8a3bc8","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:56:07","trackingId":"afc4f11b-980e-4fc0-a4b9-e5be3c29602d","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:56:15","trackingId":"e81afc7c-2280-4a3a-abec-f78490323bf2","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:56:24","trackingId":"4b8860f5-960b-4f95-aa1b-d8f2246d85e5","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:56:26","trackingId":"ae237e26-7879-4d64-89a1-f995dca9efde","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:56:47","trackingId":"8462576b-c28b-429a-8b44-b8e7bedfe87a","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:57:08","trackingId":"5f026fd3-2f78-4448-acbe-982cbb0b3dd7","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-03-31 23:57:11","trackingId":"2218e66c-afc7-4205-8c3e-523847b7871e","error":"Request failed with status code 403","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:00:30","trackingId":"682e107d-6ec3-4ca4-8343-7eb966a7f892","error":"Transaction ID is required","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:00:40","trackingId":"5265fb4a-be45-4e7f-b444-2a4f295963ee","error":"Transaction ID is required","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:01:04","trackingId":"565f5af7-6ed4-41a6-bb80-5a04e5297e60","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:01:04","trackingId":"565f5af7-6ed4-41a6-bb80-5a04e5297e60","error":"Transaction not found","request":{"transaction_id":"BTO1745802592667","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:01:51","trackingId":"c3e1dcc6-c88b-439b-ba08-d6c4b19aa68d","error":"Transaction ID is required","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:09:21","trackingId":"2f56dbe7-db4a-4318-9f37-5d52c12bd047","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:09:21","trackingId":"2f56dbe7-db4a-4318-9f37-5d52c12bd047","error":"Transaction not found","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-04-02 22:10:21","trackingId":"d4260bd3-5f83-4557-a4ff-9318d2e8782f","error":"No cached compute charges found. Please compute charges first.","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:11:20","trackingId":"e98b2439-77e2-49e5-8498-f3ed878b2ac8","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:11:20","trackingId":"e98b2439-77e2-49e5-8498-f3ed878b2ac8","error":"Transaction not found","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:11:43","trackingId":"b919b80e-863e-42ad-827d-84938c939720","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:11:43","trackingId":"b919b80e-863e-42ad-827d-84938c939720","error":"Transaction not found","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:12:37","trackingId":"92bf8ff1-3ab1-4b3a-8793-c7b08e992216","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:12:37","trackingId":"92bf8ff1-3ab1-4b3a-8793-c7b08e992216","error":"Transaction not found","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:18:16","trackingId":"5e7f7328-a812-410c-a349-6f5099032ee0","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:18:16","trackingId":"5e7f7328-a812-410c-a349-6f5099032ee0","error":"Transaction not found","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:18:35","trackingId":"fceac259-18eb-4c8f-85e6-ef31e94237c7","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:18:35","trackingId":"fceac259-18eb-4c8f-85e6-ef31e94237c7","error":"Transaction not found","request":{"remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:33:39","trackingId":"fb12d119-006e-4a04-947d-652b7a940934","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:33:39","trackingId":"fb12d119-006e-4a04-947d-652b7a940934","error":"Transaction not found","request":{"transaction_id":"BTO1751787127686","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-02 22:34:26","trackingId":"cec575fe-014b-41c9-8a7d-260b979172c7","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-02 22:34:26","trackingId":"cec575fe-014b-41c9-8a7d-260b979172c7","error":"Transaction not found","request":{"transaction_id":"BTO1751787127686","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-04-03 13:11:23","trackingId":"6f292fc5-c078-4c15-b072-4a4ff1b646c6","error":"Request failed with status code 500","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-04-03 13:11:23","trackingId":"6f292fc5-c078-4c15-b072-4a4ff1b646c6","error":"Request failed with status code 500","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-04-03 13:11:53","trackingId":"d61181f4-63c1-410b-b1ca-bdf3a307089d","error":"Request failed with status code 500","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-04-03 13:11:53","trackingId":"d61181f4-63c1-410b-b1ca-bdf3a307089d","error":"Request failed with status code 500","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-04-03 14:11:58","trackingId":"d2d262fb-d2e8-4293-bb57-d46cfb99d3e6","error":"Request failed with status code 500","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-04-03 14:11:58","trackingId":"d2d262fb-d2e8-4293-bb57-d46cfb99d3e6","error":"Request failed with status code 500","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-04-03 14:26:04","trackingId":"4fda95e0-1196-4c3d-a1fb-df00da626210","error":"Request failed with status code 500","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-04-03 14:26:04","trackingId":"4fda95e0-1196-4c3d-a1fb-df00da626210","error":"Request failed with status code 500","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"API request failed","timestamp":"2025-04-03 14:34:30","trackingId":"a45befde-dd0f-4e67-b792-09b73f552339","error":"Request failed with status code 500","service":"ferry-api"}
{"level":"error","message":"Create ticket failed","timestamp":"2025-04-03 14:34:30","trackingId":"a45befde-dd0f-4e67-b792-09b73f552339","error":"Request failed with status code 500","request":{"passengers":[{"passenger":{"firstname":"John ","lastname":"Doe","isDriver":0,"gender":1,"mi":"G","birthdate":"1997-05-14","idnumber":"","nationality":"British"},"departurePriceId":"48a2745d-f711-11ef-8261-42010a58810f"}],"contactInfo":{"name":"John Doe","mobile":"09123456789","address":"Testing","email":"JohnDoe@email.com"}},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 14:45:36","trackingId":"fb3df439-4367-4621-8f67-1a4d8d18e974","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 14:45:36","trackingId":"fb3df439-4367-4621-8f67-1a4d8d18e974","error":"Transaction not found","request":{"transaction_id":"BTO1745223533181","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 14:49:20","trackingId":"4ccbccd6-efa3-432d-860d-b55dc8b83885","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 14:49:20","trackingId":"4ccbccd6-efa3-432d-860d-b55dc8b83885","error":"Transaction not found","request":{"transaction_id":"BTO1745223533181","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 14:52:05","trackingId":"3cf59849-f416-45e1-9fb9-4b5963aac067","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 14:52:05","trackingId":"3cf59849-f416-45e1-9fb9-4b5963aac067","error":"Transaction not found","request":{"transaction_id":"BTO1745223533181","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 15:01:40","trackingId":"73fe78fb-bdb5-4d38-9fb9-5f14878679fd","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 15:01:40","trackingId":"73fe78fb-bdb5-4d38-9fb9-5f14878679fd","error":"Transaction not found","request":{"transaction_id":"BTO1745223533181","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 15:07:38","trackingId":"47465992-1d6f-4ac2-b5c0-d8ab0a3559c6","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 15:07:38","trackingId":"47465992-1d6f-4ac2-b5c0-d8ab0a3559c6","error":"Transaction not found","request":{"transaction_id":"BTO1748474877039","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"API request to void booking failed","timestamp":"2025-04-03 15:07:52","trackingId":"dd5b0ce6-1444-4f86-80d1-df0161484867","error":"Request failed with status code 500","bookingId":"a484f1c9-c5bc-4291-bf04-7b443a3a4d89","service":"ferry-api"}
{"level":"error","message":"Issue refund failed","timestamp":"2025-04-03 15:07:52","trackingId":"dd5b0ce6-1444-4f86-80d1-df0161484867","error":"User ID is required for refund","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 15:18:18","trackingId":"9d42e547-fb97-483a-a5a9-3890b1a7d198","error":"Booking ID is required","request":{"transaction_id":"BTO1752325470663","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 15:22:01","trackingId":"10932d0f-c4a9-419e-8595-826b6255c0db","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 15:22:01","trackingId":"10932d0f-c4a9-419e-8595-826b6255c0db","error":"Transaction not found","request":{"transaction_id":"BTO1743929250700","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 15:24:27","trackingId":"e5f7ffde-d0d9-4aa4-b5cc-dfd213a789b6","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 15:24:27","trackingId":"e5f7ffde-d0d9-4aa4-b5cc-dfd213a789b6","error":"Transaction not found","request":{"transaction_id":"BTO1746144027813","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 15:55:35","trackingId":"6fc25978-1649-490a-af23-f4229d9eb981","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 15:55:36","trackingId":"6fc25978-1649-490a-af23-f4229d9eb981","error":"Transaction not found","request":{"transaction_id":"BTO1747501369420","remarks":"User requested void"},"service":"ferry-api"}
{"level":"error","message":"Save transaction failed","timestamp":"2025-04-03 16:25:36","trackingId":"7b4e1ea1-5029-42ce-b7bf-32c0b73bfb02","error":"Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"user_name\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.","service":"ferry-api"}
{"level":"error","message":"Get transaction failed","timestamp":"2025-04-03 16:25:52","trackingId":"bead6e05-833e-4d68-811c-6b83f38e4b3c","error":"Transaction not found","service":"ferry-api"}
{"level":"error","message":"Void booking failed","timestamp":"2025-04-03 16:25:52","trackingId":"bead6e05-833e-4d68-811c-6b83f38e4b3c","error":"Transaction not found","request":{"transaction_id":"BTO1751299365001","remarks":"User requested void"},"service":"ferry-api"}
